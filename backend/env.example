# Server Configuration
PORT=5000
NODE_ENV=development

# Database Configuration
# For SQLite (default): Leave DATABASE_URL unset, database file will be created at: backend/database.sqlite
# For PostgreSQL/Supabase: Set DATABASE_URL and DATABASE_SSL=true
# IMPORTANT: URL-encode special characters in password (! becomes %21, @ becomes %40, etc.)
# Example: postgresql://postgres:password%21with%40special@db.xxx.supabase.co:5432/postgres
# DATABASE_URL=postgresql://user:password@host:port/database
# DATABASE_SSL=true

# Redis (for Bull queue - optional for demo)
REDIS_URL=redis://localhost:6379

# JWT
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRY=7d

# Session
SESSION_SECRET=your-session-secret-key-change-this-in-production

# OAuth2 Credentials
# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Twitch OAuth
TWITCH_CLIENT_ID=your-twitch-client-id
TWITCH_CLIENT_SECRET=your-twitch-client-secret

# Other OAuth (Optional)
TWITTER_CLIENT_ID=your-twitter-client-id
TWITTER_CLIENT_SECRET=your-twitter-client-secret
INSTAGRAM_CLIENT_ID=your-instagram-client-id
INSTAGRAM_CLIENT_SECRET=your-instagram-client-secret

# Discord OAuth (user login + link account) + Bot (posting). Bot token is BACKEND ONLY.
# DISCORD_CLIENT_ID = numeric Application ID (snowflake) from Discord Developer Portal.
DISCORD_CLIENT_ID=1234567890123456789
DISCORD_CLIENT_SECRET=your-discord-client-secret
# Bot token from Bot section (used only in backend to list channels and post messages)
DISCORD_BOT_TOKEN=your-discord-bot-token

# Backend URL (for OAuth callbacks). Must match exactly the origin used in redirect URIs.
# Local: http://localhost:5000
# Render: https://your-backend-service.onrender.com
BACKEND_URL=http://localhost:5000

# =============================================================================
# OAUTH2 REDIRECT URIs – "redirect_uri no válido" = one of these is missing/wrong
# Add EXACT URLs in each provider (no trailing slash; http vs https must match).
# =============================================================================
#
# 1) SUPABASE (Google / Twitch login from frontend)
#    Dashboard: Authentication → URL Configuration
#    Site URL:    http://localhost:3000  (local) or https://your-frontend.onrender.com (prod)
#    Redirect URLs – add BOTH:
#      http://localhost:3000/auth/callback
#      https://your-frontend.onrender.com/auth/callback   (production)
#
# 2) GOOGLE (only if using backend Passport, not Supabase)
#    Google Cloud Console → APIs & Services → Credentials → OAuth 2.0 Client → Authorized redirect URIs
#      http://localhost:5000/api/user/auth/google/callback
#      https://your-backend.onrender.com/api/user/auth/google/callback
#
# 3) TWITCH (only if using backend Passport, not Supabase)
#    Twitch Developer Console → Your App → Manage → Redirect URI
#      http://localhost:5000/api/user/auth/twitch/callback
#      https://your-backend.onrender.com/api/user/auth/twitch/callback
#
# 4) DISCORD (backend login + link account) – ADD BOTH callbacks
#    Discord Developer Portal → Your Application → OAuth2 → Redirects
#      http://localhost:5000/api/user/auth/discord/callback
#      http://localhost:5000/api/user/auth/discord/link/callback
#    Production (replace with your BACKEND_URL):
#      https://your-backend.onrender.com/api/user/auth/discord/callback
#      https://your-backend.onrender.com/api/user/auth/discord/link/callback
#
# =============================================================================

# Encryption (32 characters)
ENCRYPTION_KEY=your-32-character-encryption-key-here

# Stripe Payment Configuration
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here
# Frontend URL for Stripe redirects (success/cancel). REQUIRED in production (e.g. Render).
# Local: http://localhost:3000
# Production: https://stream-schedule-v1.onrender.com (or your frontend URL)
FRONTEND_URL=http://localhost:3000

# Supabase Configuration (file uploads + Google Auth)
# Get these from: https://app.supabase.com → Project Settings → API
# SUPABASE_URL: Your project URL (e.g., https://xxx.supabase.co)
# SUPABASE_SERVICE_KEY: Service Role Key (⚠️ NEVER expose this in frontend - backend only!)
# Required for: storage uploads and for Google login (backend verifies Supabase JWT).
# In Supabase Dashboard: Authentication → Providers → enable Google and set Client ID/Secret.
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_KEY=your-service-role-key-here

# Logging Configuration
# LOG_LEVEL: debug, info, warn, error (default: info)
# ENABLE_LOGGING: true, false (default: false in production, true in development)
LOG_LEVEL=debug
ENABLE_LOGGING=true

# Note: The application uses a single .env file for local development
# For Render/production: Configure Environment Variables in the Render dashboard
# Do NOT commit the actual .env file to git (it's in .gitignore) 